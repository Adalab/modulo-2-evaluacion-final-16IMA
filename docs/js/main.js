const n=document.querySelector(".js_searchBox"),_=document.querySelector(".js_searchBtn");document.querySelector(".js_cards");const f=document.querySelector(".js_cardsFavorites"),h=document.querySelector(".js_cardsCharacteres");document.querySelector(".js_cardsBox1");const p=document.querySelector(".js_cardsCleanBtn");let i=[],c=[];_.addEventListener("click",()=>{const e=n.value.trim().toLowerCase();e===""?l():j(e)});n.addEventListener("input",()=>{n.value.trim()===""&&l()});p.addEventListener("click",()=>{event.preventDefault(),localStorage.removeItem("favorites"),v(),y()});function u(e){const t="https://placehold.co/210x295/ffffff/555555/?text=Disney";return`<li class="js_cardBox cards__box" data-id="${e._id}">
            <img src="${e.imageUrl||t}" 
             alt="character image ${e.name||"Disney character"}" class="cards__boxImg"/>
            <p class="cards__boxTxt">${e.name||"Disney character"}</p>
          </li>`}function m(e){let t="";for(const r of e)t+=u(r);h.innerHTML=t,g()}function g(){const e=document.querySelectorAll(".js_cardBox");for(const t of e)t.addEventListener("click",r=>{r.preventDefault(),x(r);const s=r.currentTarget.getAttribute("data-id"),a=i.find(o=>o._id===parseInt(s));c.some(o=>o._id===a._id)||(c.push(a),d(),localStorage.setItem("favorites",JSON.stringify(c)))})}function C(){const e=document.querySelectorAll(".js_cardsEraser");for(const t of e)t.addEventListener("click",r=>{r.preventDefault();const s=r.currentTarget.getAttribute("data-id"),a=c.findIndex(o=>o._id===parseInt(s));a!==-1&&(c.splice(a,1),localStorage.setItem("favorites",JSON.stringify(c)),d())})}function d(){let e="";for(const t of c)e+=u(t);f.innerHTML=e,S(),C()}const x=e=>{e.currentTarget.classList.add("cards__favorite")};function S(){for(const t of f.children)t.classList.replace("js_cardBox","js_cardBoxFavorite");const e=document.querySelectorAll(".js_cardBoxFavorite");for(const t of e)for(const r of t.children){const s=t.getAttribute("data-id"),a=document.createElement("span"),o=document.createTextNode("âœ˜");a.classList.add("js_cardsEraser","cards__eraser"),a.setAttribute("data-id",s),a.appendChild(o),r.appendChild(a)}}function y(){for(const e of h.children)e.classList.remove("cards__favorite")}function l(){fetch("https://api.disneyapi.dev/character?pageSize=50").then(e=>e.json()).then(e=>{i=e.data,m(i)})}function v(){const e=JSON.parse(localStorage.getItem("favorites"));Array.isArray(e)?c=e:c=[],d()}function j(e){fetch("https://api.disneyapi.dev/character?pageSize=50").then(t=>t.json()).then(t=>{const r=t.data.filter(s=>s.name.toLowerCase().includes(e));m(r)})}l();v();
//# sourceMappingURL=main.js.map
